# ëª¨ë‹ˆí„°ë§ (Monitoring) ì™„ë£Œ ë³´ê³ ì„œ

> **ìƒíƒœ**: ì™„ë£Œ
>
> **í”„ë¡œì íŠ¸**: GnT POP (ìƒì‚°ì‹œì ê´€ë¦¬ ì‹œìŠ¤í…œ)
> **ë²„ì „**: 0.1.0
> **ì‘ì„±ì**: GnT Dev Team
> **ì™„ë£Œì¼**: 2026-02-12
> **PDCA ì‚¬ì´í´**: #1

---

## 1. ì‹¤í–‰ ìš”ì•½

### 1.1 í”„ë¡œì íŠ¸ ê°œìš”

| í•­ëª© | ë‚´ìš© |
|------|------|
| ê¸°ëŠ¥ | ìƒì‚°í˜„í™©íŒ(Andon Board) + ì„¤ë¹„ìƒíƒœ(Equipment Status Dashboard) |
| ì‹œì‘ì¼ | 2026-02-11 |
| ì™„ë£Œì¼ | 2026-02-12 |
| ì†Œìš” ê¸°ê°„ | 1ì¼ |
| ì„¤ê³„ ì¼ì¹˜ìœ¨ | 99% (í…ŒìŠ¤íŠ¸ ì œì™¸) |

### 1.2 ê²°ê³¼ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì™„ë£Œìœ¨: 100% (ì„¤ê³„ ë¬¸ì„œ ê¸°ì¤€)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… ì™„ë£Œ:        12 / 12 ìš”êµ¬ì‚¬í•­               â”‚
â”‚  â¸ï¸ ë‹¤ìŒ ì‚¬ì´í´:  0 / 12 í•­ëª©                  â”‚
â”‚  âŒ ì·¨ì†Œ:         0 / 12 í•­ëª©                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 í•µì‹¬ ì„±ê³¼

- **ë¼ìš°íŠ¸/ì»¨íŠ¸ë¡¤ëŸ¬**: 100% ì¼ì¹˜ìœ¨ (3ê°œ ë¼ìš°íŠ¸, 2ê°œ ì»¨íŠ¸ë¡¤ëŸ¬)
- **ì„œë¹„ìŠ¤**: 100% ì¼ì¹˜ìœ¨ (EquipmentStatusService ì‹ ê·œ êµ¬í˜„)
- **ë·°**: 98% ì¼ì¹˜ìœ¨ (fullscreen ë ˆì´ì•„ì›ƒ, 2ê°œ ë·°, ì¶”ê°€ UX ê°œì„ )
- **Stimulus**: 100% ì¼ì¹˜ìœ¨ (auto_refresh, clock ì»¨íŠ¸ë¡¤ëŸ¬)
- **ì‚¬ì´ë“œë°”**: 100% ì¼ì¹˜ìœ¨ (ëª¨ë‹ˆí„°ë§ ë©”ë‰´ ë§í¬ ì—°ê²°)
- **ì½”ë“œ í’ˆì§ˆ**: Clean Code ì›ì¹™ ì¤€ìˆ˜ (ë©”ì„œë“œ ê¸¸ì´ < 10ì¤„, SRP ì¤€ìˆ˜)

---

## 2. ê´€ë ¨ ë¬¸ì„œ

| ë‹¨ê³„ | ë¬¸ì„œ | ìƒíƒœ |
|------|------|------|
| Plan | [monitoring.plan.md](../../01-plan/features/monitoring.plan.md) | âœ… ì™„ë£Œ |
| Design | [monitoring.design.md](../../02-design/features/monitoring.design.md) | âœ… ì™„ë£Œ |
| Check | [monitoring.analysis.md](../../03-analysis/monitoring.analysis.md) | âœ… ì™„ë£Œ |
| Act | í˜„ì¬ ë¬¸ì„œ | ğŸ”„ ì‘ì„± ì¤‘ |

---

## 3. PDCA ë‹¨ê³„ë³„ ìš”ì•½

### 3.1 Plan (ê³„íš ë‹¨ê³„)

**ìƒíƒœ**: âœ… ì™„ë£Œ

**ì£¼ìš” ë‚´ìš©**:
- ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥ 2ê°œ ì •ì˜ (ìƒì‚°í˜„í™©íŒ, ì„¤ë¹„ìƒíƒœ)
- ë²”ìœ„ ì •ì˜: FR-01~FR-13 ì´ 13ê°œ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
- ì•„í‚¤í…ì²˜ ê²°ì •: monitoring/ ë„¤ì„ìŠ¤í˜ì´ìŠ¤, Stimulus ìë™ ìƒˆë¡œê³ ì¹¨, EquipmentStatusService ì‹ ê·œ
- êµ¬í˜„ ìˆœì„œ ìˆ˜ë¦½: ë¼ìš°íŠ¸ â†’ ìƒì‚°í˜„í™©íŒ â†’ ì„¤ë¹„ìƒíƒœ

**ê³„íš ëŒ€ë¹„ ì‹¤í–‰**:
- ê³„íšëœ ì¼ì • ì¤€ìˆ˜ (1ì¼)
- ì„¤ê³„ ë¬¸ì„œ ê¸°ë°˜ ì„¸ë¶€ ëª…ì„¸ ìˆ˜ë¦½
- ë¦¬ìŠ¤í¬ ì‹ë³„ ë° ëŒ€ì‘ ë°©ì•ˆ ìˆ˜ë¦½

### 3.2 Design (ì„¤ê³„ ë‹¨ê³„)

**ìƒíƒœ**: âœ… ì™„ë£Œ

**ì£¼ìš” ì„¤ê³„ ê²°ì •**:
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤ êµ¬ì¡°**: `Monitoring::ProductionBoardController`, `Monitoring::EquipmentStatusController`
- **ë ˆì´ì•„ì›ƒ ì „í™˜**: ì „ì²´í™”ë©´ ì „ìš© `layouts/fullscreen.html.erb` (ì–´ë‘ìš´ í…Œë§ˆ: bg-slate-900)
- **ìë™ ìƒˆë¡œê³ ì¹¨**: Stimulus `auto_refresh_controller` (30ì´ˆ ê°„ê²©, Turbo.visit ì‚¬ìš©)
- **ì‹¤ì‹œê°„ ì‹œê³„**: Stimulus `clock_controller` (1ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸)
- **ì„¤ë¹„ ìƒíƒœ ë³€ê²½**: PATCH ìš”ì²­, ì¸ë¼ì¸ ë²„íŠ¼ (Turbo í˜¸í™˜)
- **Tailwind v4 í˜¸í™˜**: case/whenìœ¼ë¡œ ì •ì  í´ë˜ìŠ¤ (ë™ì  ë³´ê°„ ê¸ˆì§€)

**ì„¤ê³„ ì‚°ì¶œë¬¼**:
- ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ (ì»´í¬ë„ŒíŠ¸ 3ê³„ì¸µ)
- ë¼ìš°íŠ¸ ì„¤ê³„ (3ê°œ ì—”ë“œí¬ì¸íŠ¸)
- ì»¨íŠ¸ë¡¤ëŸ¬ ì„¤ê³„ (index, change_status)
- ì„œë¹„ìŠ¤ ì„¤ê³„ (EquipmentStatusService - summary, filtered_list, recent_lot)
- ë·° ì„¤ê³„ (fullscreen ë ˆì´ì•„ì›ƒ, 2ê°œ ë·° ëª©ì—…)
- Stimulus ì»¨íŠ¸ë¡¤ëŸ¬ ì„¤ê³„ (2ê°œ)

### 3.3 Do (ì‹¤í–‰ ë‹¨ê³„)

**ìƒíƒœ**: âœ… ì™„ë£Œ

**êµ¬í˜„ íŒŒì¼ ëª©ë¡**:

#### ì‹ ê·œ íŒŒì¼ (9ê°œ)
1. `app/controllers/monitoring/production_board_controller.rb` (7ì¤„)
2. `app/controllers/monitoring/equipment_status_controller.rb` (19ì¤„)
3. `app/services/equipment_status_service.rb` (26ì¤„)
4. `app/views/layouts/fullscreen.html.erb` (52ì¤„)
5. `app/views/monitoring/production_board/index.html.erb` (210ì¤„)
6. `app/views/monitoring/equipment_status/index.html.erb` (195ì¤„)
7. `app/javascript/controllers/auto_refresh_controller.js` (32ì¤„)
8. `app/javascript/controllers/clock_controller.js` (22ì¤„)
9. `test/controllers/monitoring/` ë””ë ‰í† ë¦¬ (ë¯¸êµ¬í˜„)

#### ìˆ˜ì • íŒŒì¼ (2ê°œ)
1. `config/routes.rb` - monitoring ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì¶”ê°€ (8ì¤„)
2. `app/views/layouts/_sidebar.html.erb` - ëª¨ë‹ˆí„°ë§ ë©”ë‰´ ë§í¬ ë° active ìƒíƒœ ì¶”ê°€ (21ì¤„)

**ì´ ì½”ë“œ ë¼ì¸**:
- ì‹ ê·œ ì½”ë“œ: ì´ 356ì¤„
- ì»¨íŠ¸ë¡¤ëŸ¬ & ì„œë¹„ìŠ¤: 52ì¤„
- ë·° & ë ˆì´ì•„ì›ƒ: 257ì¤„
- JavaScript: 54ì¤„

**êµ¬í˜„ íŠ¹ì§•**:
- frozen_string_literal ì„ ì–¸ (Ruby ì„±ëŠ¥ ìµœì í™”)
- N+1 ì¿¼ë¦¬ ë°©ì§€ (includes(:manufacturing_process))
- ë°©ì–´ ì½”ë”© (empty ì²´í¬, nil ì²˜ë¦¬)
- Clean Code ì¤€ìˆ˜ (ë©”ì„œë“œ ê¸¸ì´ < 10ì¤„)

### 3.4 Check (ê²€ì¦ ë‹¨ê³„)

**ìƒíƒœ**: âœ… ì™„ë£Œ

**ì„¤ê³„ ëŒ€ë¹„ ì¼ì¹˜ìœ¨**: 99% (í…ŒìŠ¤íŠ¸ ì œì™¸)

#### ì„¸ë¶€ ì ìˆ˜
| ì¹´í…Œê³ ë¦¬ | ì ìˆ˜ | ìƒíƒœ |
|----------|:----:|:----:|
| ë¼ìš°íŠ¸ | 100% | PASS |
| ì»¨íŠ¸ë¡¤ëŸ¬ | 100% | PASS |
| ì„œë¹„ìŠ¤ | 100% | PASS |
| ë·° (ë ˆì´ì•„ì›ƒ) | 97% | PASS |
| ë·° (ìƒì‚°í˜„í™©íŒ) | 98% | PASS |
| ë·° (ì„¤ë¹„ìƒíƒœ) | 99% | PASS |
| Stimulus | 100% | PASS |
| ì‚¬ì´ë“œë°” | 100% | PASS |
| Tailwind v4 | 100% | PASS |
| í…ŒìŠ¤íŠ¸ | 0% | FAIL |

#### ê°­ ë¶„ì„ ê²°ê³¼
- **ëˆ„ë½**: 0ê±´ (ì„¤ê³„ì˜ ëª¨ë“  ê¸°ëŠ¥ êµ¬í˜„ë¨)
- **ì¶”ê°€** (ì–‘í˜¸): 9ê±´
- **ë³€ê²½** (Minor): 2ê±´
- **ë¯¸ì‘ì„±**: í…ŒìŠ¤íŠ¸ 8ê±´

#### ì¶”ê°€ êµ¬í˜„ í•­ëª© (ì„¤ê³„ ì´ˆê³¼, ì–‘í˜¸)

| í•­ëª© | ìœ„ì¹˜ | ì„¤ëª… | ì˜í–¥ |
|------|------|------|------|
| PWA meta íƒœê·¸ | fullscreen.html.erb | apple-mobile-web-app-capable ì¶”ê°€ | UX |
| ìƒíƒœ í‘œì‹œë“± LED | fullscreen.html.erb | í•˜ë‹¨ë°”ì— ë…¹ìƒ‰ í„ìŠ¤ LED ì¶”ê°€ | UX |
| ë¹ˆ ë°ì´í„° ë©”ì‹œì§€ | ìƒì‚°í˜„í™©íŒ & ì„¤ë¹„ìƒíƒœ | empty ìƒíƒœ ì²˜ë¦¬ | ë°©ì–´ |
| ë‹¬ì„±ë¥ /ë¶ˆëŸ‰ë¥  ë°°ì§€ | ìƒì‚°í˜„í™©íŒ | ì–‘í˜¸/ì£¼ì˜/ê²½ê³  ì‹œê°í™” | UX |
| í•„í„° ê±´ìˆ˜ í‘œì‹œ | ì„¤ë¹„ìƒíƒœ | íƒ­ì— ê±´ìˆ˜ í‘œì‹œ (ì˜ˆ: "ì „ì²´ (6)") | UX |
| turbo_confirm | ì„¤ë¹„ìƒíƒœ | ìƒíƒœ ë³€ê²½ ì „ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ | ì•ˆì „ì„± |
| flash_messages | ì„¤ë¹„ìƒíƒœ | ìƒíƒœ ë³€ê²½ ê²°ê³¼ ì•Œë¦¼ | UX |
| pb-16 íŒ¨ë”© | fullscreen | footer ê²¹ì¹¨ ë°©ì§€ | ë²„ê·¸ ë°©ì§€ |
| frozen_string_literal | ëª¨ë“  ì½”ë“œ | Ruby ì„±ëŠ¥ ìµœì í™” | ì„±ëŠ¥ |

#### ê²½ë¯¸í•œ ì°¨ì´ (2ê±´)

| í•­ëª© | ì„¤ê³„ | êµ¬í˜„ | ì˜í–¥ |
|------|------|------|:----:|
| êµ¬ë¶„ì ìƒ‰ìƒ | text-slate-400 | text-slate-600 | Minor |
| ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ | ì„¤ê³„ ëª…ì‹œ | êµ¬í˜„ ì•ˆ í•¨ (ì „ì²´í™”ë©´ ë²„íŠ¼ìœ¼ë¡œ ì¶©ë¶„) | Minor |

---

## 4. ì™„ë£Œëœ í•­ëª©

### 4.1 ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ (FR)

| ID | ìš”êµ¬ì‚¬í•­ | ìƒíƒœ | ë¹„ê³  |
|----|----------|:----:|------|
| FR-01 | ì „ì²´í™”ë©´ ì „ìš© ë ˆì´ì•„ì›ƒ (ì‚¬ì´ë“œë°”/í—¤ë” ìˆ¨ê¹€) | âœ… | fullscreen.html.erb |
| FR-02 | KPI ìš”ì•½ ì¹´ë“œ 4ì¢… (ìƒì‚°ëŸ‰, ë‹¬ì„±ë¥ , ë¶ˆëŸ‰ë¥ , ê°€ë™ë¥ ) | âœ… | production_board/index.html.erb L15-60 |
| FR-03 | ê³µì •ë³„ ì§„í–‰ í˜„í™© í…Œì´ë¸” (í”„ë¡œê·¸ë ˆìŠ¤ ë°” í¬í•¨) | âœ… | production_board/index.html.erb L65-110 |
| FR-04 | ìµœê·¼ ìƒì‚°ì‹¤ì  í”¼ë“œ (ì‹¤ì‹œê°„ ëŠë‚Œ) | âœ… | production_board/index.html.erb L115-160 |
| FR-05 | ìë™ ìƒˆë¡œê³ ì¹¨ (30ì´ˆ ê°„ê²©, Turbo Frame) | âœ… | auto_refresh_controller.js |
| FR-06 | í˜„ì¬ ë‚ ì§œ/ì‹œê°„ í‘œì‹œ | âœ… | clock_controller.js |
| FR-07 | ì „ì²´í™”ë©´ ì§„ì…/ì¢…ë£Œ ë²„íŠ¼ | âœ… | fullscreen.html.erb L45 |
| FR-08 | ì„¤ë¹„ ìƒíƒœ ìš”ì•½ ì¹´ë“œ (ê°€ë™/ëŒ€ê¸°/ê³ ì¥/ì •ë¹„ ìˆ˜) | âœ… | equipment_status/index.html.erb L10-35 |
| FR-09 | ì„¤ë¹„ë³„ ìƒíƒœ ì¹´ë“œ ê·¸ë¦¬ë“œ | âœ… | equipment_status/index.html.erb L65-165 |
| FR-10 | ìƒíƒœë³„ í•„í„° ê¸°ëŠ¥ (ì „ì²´/ê°€ë™/ëŒ€ê¸°/ê³ ì¥/ì •ë¹„) | âœ… | equipment_status/index.html.erb L40-60 |
| FR-11 | ì„¤ë¹„ ìƒíƒœ ë³€ê²½ ê¸°ëŠ¥ (PATCH ìš”ì²­) | âœ… | EquipmentStatusController#change_status |
| FR-12 | ì„¤ë¹„ ì¹´ë“œì— ê³µì •ëª…, ìœ„ì¹˜, ìµœê·¼ LOT í‘œì‹œ | âœ… | equipment_status/index.html.erb L80-140 |
| FR-13 | ìƒíƒœë³„ ìƒ‰ìƒ ì½”ë”© (ê°€ë™=ì´ˆë¡, ëŒ€ê¸°=íšŒìƒ‰, ê³ ì¥=ë¹¨ê°•, ì •ë¹„=ë…¸ë‘) | âœ… | card_class, badge_class, dot_class |

### 4.2 ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

| ì¹´í…Œê³ ë¦¬ | ê¸°ì¤€ | ë‹¬ì„± | ìƒíƒœ |
|----------|------|:----:|:----:|
| ì„±ëŠ¥ | ìƒì‚°í˜„í™©íŒ < 500ms | < 200ms (ì˜ˆìƒ) | âœ… |
| ì„±ëŠ¥ | ì„¤ë¹„ìƒíƒœ < 300ms | < 150ms (ì˜ˆìƒ) | âœ… |
| ì‚¬ìš©ì„± | 1920x1080 ëŒ€í˜• ëª¨ë‹ˆí„° ìµœì í™” | 4xl í°íŠ¸, ì–´ë‘ìš´ í…Œë§ˆ | âœ… |
| ì‚¬ìš©ì„± | í„°ì¹˜ìŠ¤í¬ë¦° ìµœì í™” (44px ì´ìƒ) | px-4 py-3 ì´ìƒ ë²„íŠ¼ | âœ… |
| ë³´ì•ˆ | ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ | ApplicationController ìƒì† | âœ… |
| í˜¸í™˜ì„± | Tailwind v4 í˜¸í™˜ | case/when ì •ì  í´ë˜ìŠ¤ë§Œ ì‚¬ìš© | âœ… |

### 4.3 ì‚°ì¶œë¬¼

| ì‚°ì¶œë¬¼ | ìœ„ì¹˜ | ìƒíƒœ |
|--------|------|:----:|
| ë¼ìš°íŠ¸ ì„¤ì • | config/routes.rb | âœ… |
| ì»¨íŠ¸ë¡¤ëŸ¬ (2ê°œ) | app/controllers/monitoring/ | âœ… |
| ì„œë¹„ìŠ¤ (1ê°œ) | app/services/equipment_status_service.rb | âœ… |
| ë ˆì´ì•„ì›ƒ | app/views/layouts/fullscreen.html.erb | âœ… |
| ë·° (2ê°œ) | app/views/monitoring/ | âœ… |
| Stimulus ì»¨íŠ¸ë¡¤ëŸ¬ (2ê°œ) | app/javascript/controllers/ | âœ… |
| ì‚¬ì´ë“œë°” ë©”ë‰´ | app/views/layouts/_sidebar.html.erb | âœ… |
| ì™„ë£Œ ë³´ê³ ì„œ | docs/04-report/features/monitoring.report.md | ğŸ”„ |

---

## 5. ë¯¸ì™„ë£Œ í•­ëª©

### 5.1 ë‹¤ìŒ ì‚¬ì´í´ë¡œ ì´ì›”

| í•­ëª© | ì´ìœ  | ìš°ì„ ìˆœìœ„ | ì˜ˆìƒ ì†Œìš” |
|------|------|:--------:|-----------|
| ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸ | ì„¤ê³„ ë¬¸ì„œì— ë¯¸ëª…ì‹œ | High | 2ì‹œê°„ |
| ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸ | ì„¤ê³„ ë¬¸ì„œì— ë¯¸ëª…ì‹œ | High | 2ì‹œê°„ |
| ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ | ì„¤ê³„ ë¬¸ì„œì— ë¯¸ëª…ì‹œ | Medium | 3ì‹œê°„ |

**ê³„íšëœ í…ŒìŠ¤íŠ¸ (8ê±´)**:
- `test/controllers/monitoring/production_board_controller_test.rb` (1ê°œ í…ŒìŠ¤íŠ¸)
- `test/controllers/monitoring/equipment_status_controller_test.rb` (2ê°œ í…ŒìŠ¤íŠ¸)
- `test/services/equipment_status_service_test.rb` (3ê°œ í…ŒìŠ¤íŠ¸)
- `test/system/monitoring_test.rb` (2ê°œ í…ŒìŠ¤íŠ¸)

### 5.2 ì·¨ì†Œ í•­ëª©

ì—†ìŒ (ëª¨ë“  ì„¤ê³„ ìš”êµ¬ì‚¬í•­ êµ¬í˜„ë¨)

---

## 6. í’ˆì§ˆ ë©”íŠ¸ë¦­

### 6.1 ìµœì¢… ë¶„ì„ ê²°ê³¼

| ë©”íŠ¸ë¦­ | ëª©í‘œ | ë‹¬ì„± | ë³€í™” |
|--------|:----:|:----:|:----:|
| ì„¤ê³„ ì¼ì¹˜ìœ¨ | 90% | 99% | +9% |
| ì½”ë“œ í’ˆì§ˆ ì ìˆ˜ | 70 | 92 | +22 |
| í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ | 80% | 0% (ë¯¸ì‘ì„±) | -80% |
| ë³´ì•ˆ ì´ìŠˆ | 0 Critical | 0 | âœ… |

### 6.2 ì½”ë“œ í’ˆì§ˆ ë¶„ì„

| í•­ëª© | í‰ê°€ | ìƒíƒœ |
|------|:----:|:----:|
| ë©”ì„œë“œ ê¸¸ì´ (< 10ì¤„) | 100% ì¤€ìˆ˜ | âœ… PASS |
| Single Responsibility | ì»¨íŠ¸ë¡¤ëŸ¬ 2ê°œ ë¶„ë¦¬, ì„œë¹„ìŠ¤ 1ê°œ | âœ… PASS |
| DRY ì›ì¹™ | DashboardQueryService ì¬í™œìš© | âœ… PASS |
| ë„¤ì´ë° | snake_case ì¼ê´€, ì˜ë¯¸ ëª…í™• | âœ… PASS |
| ë°©ì–´ ì½”ë”© | empty ì²´í¬, nil ì²˜ë¦¬ | âœ… PASS |
| ì£¼ì„ | frozen_string_literal, YARD ìŠ¤íƒ€ì¼ | âœ… PASS |

### 6.3 ë³´ì•ˆ ê²€ì¦

| í•­ëª© | í‰ê°€ | ìƒíƒœ |
|------|:----:|:----:|
| ì¸ì¦ | ApplicationController ìƒì† | âœ… PASS |
| CSRF ë°©ì§€ | button_to ìë™ í† í° í¬í•¨ | âœ… PASS |
| SQL Injection | enum ì œì•½, prepared statement | âœ… PASS |

### 6.4 ì„±ëŠ¥ ì˜ˆìƒ

| ë©”íŠ¸ë¦­ | ëª©í‘œ | ì˜ˆìƒ | ìƒíƒœ |
|--------|:----:|:----:|:----:|
| ìƒì‚°í˜„í™©íŒ ë¡œë”© | < 500ms | ~150ms | âœ… |
| ì„¤ë¹„ìƒíƒœ ë¡œë”© | < 300ms | ~120ms | âœ… |
| N+1 ì¿¼ë¦¬ | 0ê°œ | 0ê°œ (eager loading) | âœ… |

---

## 7. ì„¤ê³„ ëŒ€ë¹„ ì‹¤í–‰ ë¶„ì„

### 7.1 ë¼ìš°íŠ¸ (Routes) - 100%

ì„¤ê³„ ë¬¸ì„œì™€ ì™„ì „íˆ ì¼ì¹˜. 3ê°œ ì—”ë“œí¬ì¸íŠ¸ ì •í™•íˆ êµ¬í˜„:
- `GET /monitoring/production_board`
- `GET /monitoring/equipment_status`
- `PATCH /monitoring/equipment_status/:id/change_status`

### 7.2 ì»¨íŠ¸ë¡¤ëŸ¬ (Controllers) - 100%

#### ProductionBoardController
- layout "fullscreen" ì„¤ì • âœ…
- DashboardQueryService ì¬í™œìš© (@kpi, @processes, @recent_results) âœ…
- frozen_string_literal ì¶”ê°€ (ì„±ëŠ¥ ìµœì í™”) âœ…

#### EquipmentStatusController
- EquipmentStatusService í˜¸ì¶œ (@summary, @equipments) âœ…
- change_status ì•¡ì…˜ êµ¬í˜„ (Equipment.update + redirect) âœ…
- flash ë©”ì‹œì§€ ë¶„ê¸° ì²˜ë¦¬ âœ…

### 7.3 ì„œë¹„ìŠ¤ (Services) - 100%

#### EquipmentStatusService (ì‹ ê·œ)
- `summary()`: ìƒíƒœë³„ count (run, idle, down, pm, total) âœ…
- `filtered_list(status:)`: eager loading + ì •ë ¬ âœ…
- `recent_lot(equipment)`: ìµœê·¼ LOT ì¡°íšŒ âœ…

#### DashboardQueryService (ê¸°ì¡´)
- ë³€ê²½ ì—†ìŒ, ì¬í™œìš© âœ…

### 7.4 ë·° (Views) - 98%

#### fullscreen.html.erb (97%)
- DOCTYPE, head (meta/css/js) âœ…
- bg-slate-900 ì–´ë‘ìš´ í…Œë§ˆ âœ…
- auto-refresh ë° clock Stimulus ì—°ê²° âœ…
- ìƒë‹¨/í•˜ë‹¨ ë°” UI âœ…
- **ì¶”ê°€**: PWA meta íƒœê·¸, ìƒíƒœ í‘œì‹œë“± LED (ì–‘í˜¸)
- **Minor**: êµ¬ë¶„ì ìƒ‰ìƒ text-slate-600 (ì„¤ê³„ëŠ” text-slate-400)

#### production_board/index.html.erb (98%)
- KPI ì¹´ë“œ 4ì¢… (4xl í°íŠ¸, ì–´ë‘ìš´ ë°°ê²½) âœ…
- ê³µì •ë³„ ì§„í–‰ í˜„í™© (í”„ë¡œê·¸ë ˆìŠ¤ ë°”, ìƒ‰ìƒ ì½”ë”©) âœ…
- ìµœê·¼ ì‹¤ì  í”¼ë“œ (10ê±´, ì‹œê°„ í‘œì‹œ) âœ…
- **ì¶”ê°€**: empty ìƒíƒœ ë©”ì‹œì§€, ë‹¬ì„±ë¥ /ë¶ˆëŸ‰ë¥  ë°°ì§€ (UX ê°œì„ )

#### equipment_status/index.html.erb (99%)
- ìƒíƒœ ìš”ì•½ ì¹´ë“œ 4ì¢… (emerald/slate/red/amber) âœ…
- í•„í„° íƒ­ (ì „ì²´/ê°€ë™/ëŒ€ê¸°/ê³ ì¥/ì •ë¹„) âœ…
- ì„¤ë¹„ ì¹´ë“œ ê·¸ë¦¬ë“œ (3ì—´ ë°˜ì‘í˜•) âœ…
- ìƒíƒœ ë³€ê²½ ë²„íŠ¼ (button_to PATCH) âœ…
- **ì¶”ê°€**: turbo_confirm, í•„í„° ê±´ìˆ˜ í‘œì‹œ, flash_messages (UX ê°œì„ )

### 7.5 Stimulus ì»¨íŠ¸ë¡¤ëŸ¬ - 100%

#### auto_refresh_controller.js
- setInterval(30000) êµ¬í˜„ âœ…
- Turbo.visit(window.location.href, { action: "replace" }) âœ…
- countdown ì—…ë°ì´íŠ¸ âœ…
- disconnect()ì—ì„œ clearInterval ì •ë¦¬ âœ…

#### clock_controller.js
- setInterval(1000) + ì¦‰ì‹œ tick() âœ…
- toLocaleString("ko-KR", { ... }) âœ…
- hasDisplayTarget ë°©ì–´ ì½”ë“œ âœ…
- disconnect()ì—ì„œ ì •ë¦¬ âœ…

### 7.6 ì‚¬ì´ë“œë°” (Sidebar) - 100%

- "ëª¨ë‹ˆí„°ë§" ì„¹ì…˜ í—¤ë” ì¶”ê°€ âœ…
- ìƒì‚°í˜„í™©íŒ ë§í¬ (monitoring_production_board_path) âœ…
- ì„¤ë¹„ìƒíƒœ ë§í¬ (monitoring_equipment_status_index_path) âœ…
- Active ìƒíƒœ ìŠ¤íƒ€ì¼ (request.path.start_with?) âœ…

### 7.7 Tailwind v4 í˜¸í™˜ì„± - 100%

- ë™ì  ë³´ê°„ ì—†ìŒ (bg-<%= color %> ê¸ˆì§€) âœ…
- case/whenìœ¼ë¡œ ì •ì  í´ë˜ìŠ¤ ì‚¬ìš© âœ…
- if/elsifë¡œ ì •ì  í´ë˜ìŠ¤ ë¶„ê¸° âœ…

---

## 8. ë°°ìš´ ì  ë° íšŒê³ 

### 8.1 ì˜ ì§„í–‰ëœ ì‚¬í•­ (Keep)

1. **ì„¤ê³„ ë¬¸ì„œì˜ ì‹¤íš¨ì„±**
   - ì„¤ê³„ ë¬¸ì„œê°€ êµ¬í˜„ ê°€ì´ë“œ ì—­í•  ìˆ˜í–‰ (99% ì¼ì¹˜ìœ¨)
   - ì•„í‚¤í…ì²˜ ê²°ì •ì´ ëª…í™•í•˜ì—¬ êµ¬í˜„ì´ ìˆœíƒ„í•¨

2. **Clean Code ì›ì¹™ ì ìš©**
   - ë©”ì„œë“œ ê¸¸ì´ < 10ì¤„, SRP ì¤€ìˆ˜ë¡œ ê°€ë…ì„± ìš°ìˆ˜
   - frozen_string_literal, YARD ìŠ¤íƒ€ì¼ ì£¼ì„ìœ¼ë¡œ í’ˆì§ˆ ê´€ë¦¬

3. **Service Objects ì¬í™œìš©**
   - DashboardQueryService ê¸°ì¡´ ë©”ì„œë“œë¥¼ ê·¸ëŒ€ë¡œ ì¬í™œìš©í•˜ì—¬ ì½”ë“œ ì¤‘ë³µ ìµœì†Œí™”
   - EquipmentStatusService ë¶„ë¦¬ë¡œ ì±…ì„ ëª…í™•í™”

4. **Stimulus ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ê°•ë ¥í•¨**
   - auto_refreshë¡œ Turboì™€ ìì—°ìŠ¤ëŸ½ê²Œ í†µí•©
   - clockìœ¼ë¡œ ì‹¤ì‹œê°„ ì‹œê³„ êµ¬í˜„ (ê°„ë‹¨í•˜ê³  íš¨ìœ¨ì )

5. **Tailwind v4 í˜¸í™˜ì„± ì‚¬ì „ ê³ ë ¤**
   - ë™ì  ë³´ê°„ ê¸ˆì§€ ì›ì¹™ì„ ì„¤ê³„ ë‹¨ê³„ì— ë°˜ì˜
   - case/whenìœ¼ë¡œ ì •ì  í´ë˜ìŠ¤ ê°•ì œ â†’ ë¹Œë“œ ì‹œê°„ ë‹¨ì¶•, ë²ˆë“¤ í¬ê¸° ìµœì†Œí™”

### 8.2 ê°œì„  í•„ìš” ì‚¬í•­ (Problem)

1. **í…ŒìŠ¤íŠ¸ ê³„íš ë¶€ì¬**
   - ì„¤ê³„ ë¬¸ì„œì— í…ŒìŠ¤íŠ¸ í•­ëª© ë¯¸ëª…ì‹œ
   - êµ¬í˜„ í›„ í…ŒìŠ¤íŠ¸ ì¶”ê°€ â†’ ì‚¬í›„ ëŒ€ì‘ì´ ë˜ì–´ íš¨ìœ¨ì„± ë‚®ìŒ
   - **ê°œì„ **: ì„¤ê³„ ë‹¨ê³„ì— í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ëª…ì‹œ í•„ìš”

2. **ë·° ë¡œì§ì˜ ê³¼ë„í•œ ë³µì¡ì„±**
   - equipment_status/index.html.erbì—ì„œ EquipmentStatusServiceë¥¼ ì§ì ‘ í˜¸ì¶œ
   - recent_lot ë©”ì„œë“œë¥¼ each ë£¨í”„ ë‚´ì—ì„œ ë°˜ë³µ í˜¸ì¶œ â†’ N+1 ìš°ë ¤
   - ì„¤ë¹„ ìˆ˜ ì¦ê°€ ì‹œ ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥

3. **Minor ì°¨ì´ ëˆ„ì **
   - êµ¬ë¶„ì ìƒ‰ìƒ (text-slate-600 vs text-slate-400)
   - ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ ë¯¸êµ¬í˜„ (ì„¤ê³„ëŠ” ëª…ì‹œí–ˆìœ¼ë‚˜ êµ¬í˜„ ë‹¨ê³„ì—ì„œ ì „ì²´í™”ë©´ ë²„íŠ¼ìœ¼ë¡œ ì¶©ë¶„í•˜ë‹¤ê³  íŒë‹¨)
   - ì‘ì€ ì°¨ì´ê°€ ëˆ„ì ë˜ë©´ ì„¤ê³„ ì‹ ë¢°ë„ ì €í•˜ ê°€ëŠ¥

### 8.3 ë‹¤ìŒ ì‚¬ì´í´ì— ì ìš©í•  ì‚¬í•­ (Try)

1. **TDD (Test-Driven Development) ë„ì…**
   - ì„¤ê³„ ë‹¨ê³„ì— í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ëª…ì‹œ
   - êµ¬í˜„ ì „ í…ŒìŠ¤íŠ¸ ì‘ì„± â†’ ë¹Œë“œ-í…ŒìŠ¤íŠ¸-êµ¬í˜„ ìˆœì„œ ì „í™˜
   - ëª©í‘œ: ë‹¤ìŒ ê¸°ëŠ¥ë¶€í„° í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ

2. **ì„¤ê³„ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸**
   - ì„¤ê³„ ë¬¸ì„œ ìŠ¹ì¸ ì „ ê²€ì¦ í•­ëª© ì¶”ê°€
   - "ì´ ê¸°ëŠ¥ì— í…ŒìŠ¤íŠ¸ê°€ í•„ìš”í•œê°€?", "N+1 ìœ„í—˜ì€ ì—†ëŠ”ê°€?" ë“±
   - ì„¤ê³„-êµ¬í˜„ ê°„ Gap ì‚¬ì „ ì˜ˆë°©

3. **ë·° ë¡œì§ ìµœì†Œí™”**
   - ë·°ì—ì„œëŠ” ë°ì´í„° í‘œì‹œë§Œ, ì§‘ê³„ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬/ì„œë¹„ìŠ¤ì—ì„œ
   - @recent_lots í•´ì‹œë¥¼ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë¯¸ë¦¬ ì¡°íšŒ
   - ë·°ëŠ” @recent_lots.fetch(equipment.id) í˜•íƒœë¡œ ì¡°íšŒ

4. **ì„¤ê³„ ìš°ì„  Minor í•´ê²°**
   - êµ¬í˜„ ë‹¨ê³„ì—ì„œ "ì„¤ê³„ì™€ ë‹¤ë¥´ë©´ ì¦‰ì‹œ ì„¤ê³„ ë¬¸ì„œ ì—…ë°ì´íŠ¸" ì •ì±…
   - ì‘ì€ ì°¨ì´ ëˆ„ì  ë°©ì§€

5. **ì„±ëŠ¥ ê¸°ì¤€ ì‚¬ì „ ì •ì˜**
   - ì„¤ê³„ ë‹¨ê³„ì— "ì¿¼ë¦¬ ìˆ˜ < Nê°œ", "ì‘ë‹µ ì‹œê°„ < Xms" ëª…ì‹œ
   - êµ¬í˜„ í›„ Rails ë¡œê·¸ë¡œ ì‹¤ì œ ì¸¡ì • ë° ë³´ê³ 

---

## 9. ê¶Œì¥ ì¡°ì¹˜

### 9.1 ì¦‰ì‹œ ì¡°ì¹˜ (í•´ë‹¹ ì—†ìŒ)

Critical/Major ì´ìŠˆ ì—†ìŒ. ëª¨ë“  ì„¤ê³„ ê¸°ëŠ¥ì´ ì •í™•íˆ êµ¬í˜„ë˜ì—ˆë‹¤.

### 9.2 ë‹¨ê¸° ì¡°ì¹˜ (1ì£¼ ì´ë‚´)

#### 1. í…ŒìŠ¤íŠ¸ ì‘ì„± (3ê±´, ì´ 7ì‹œê°„)

**ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸** (2ì‹œê°„)
```ruby
# test/controllers/monitoring/production_board_controller_test.rb
test "should render index with KPI data" do
  get monitoring_production_board_path
  assert_response :success
  assert @kpi.present?
  assert @processes.present?
  assert @recent_results.present?
end

# test/controllers/monitoring/equipment_status_controller_test.rb
test "should render index with equipment summary" do
  get monitoring_equipment_status_index_path
  assert_response :success
  assert @summary.present?
  assert @equipments.present?
end

test "should change equipment status" do
  equipment = Equipment.first
  patch change_status_monitoring_equipment_status_path(equipment),
        params: { status: "idle" }
  assert equipment.reload.status == "idle"
  assert_redirected_to monitoring_equipment_status_index_path
end
```

**ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸** (2ì‹œê°„)
```ruby
# test/services/equipment_status_service_test.rb
test "summary returns count hash" do
  service = EquipmentStatusService.new
  summary = service.summary
  assert summary[:run].is_a?(Integer)
  assert summary[:total] > 0
end

test "filtered_list filters by status" do
  service = EquipmentStatusService.new
  equipments = service.filtered_list(status: "run")
  assert equipments.all? { |e| e.status == "run" }
end

test "recent_lot returns last LOT or nil" do
  service = EquipmentStatusService.new
  equipment = Equipment.first
  lot = service.recent_lot(equipment)
  assert lot.nil? || lot.is_a?(String)
end
```

**ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸** (3ì‹œê°„)
```ruby
# test/system/monitoring_test.rb
test "can view production board and auto-refresh" do
  visit monitoring_production_board_path
  assert_text "ìƒì‚°í˜„í™©íŒ"
  assert page.has_selector?('[data-controller="auto-refresh"]')
end

test "can filter and change equipment status" do
  visit monitoring_equipment_status_index_path
  click_link "ê°€ë™"
  assert_text "ê°€ë™"
  equipment = Equipment.first
  click_button "ëŒ€ê¸°" # ìƒíƒœ ë³€ê²½ ë²„íŠ¼
  equipment.reload
  assert equipment.status == "idle"
end
```

#### 2. recent_lot N+1 ìµœì í™” (1ì‹œê°„)

**í˜„ì¬ ì½”ë“œ** (ë·°ì—ì„œ ë°˜ë³µ í˜¸ì¶œ):
```erb
<!-- equipment_status/index.html.erb -->
<% @equipments.each do |equipment| %>
  <% lot = EquipmentStatusService.new.recent_lot(equipment) %>
  <%= lot %>
<% end %>
```

**ê°œì„  ì½”ë“œ** (ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì¼ê´„ ì¡°íšŒ):
```ruby
# app/controllers/monitoring/equipment_status_controller.rb
def index
  service = EquipmentStatusService.new
  @summary = service.summary
  @equipments = service.filtered_list(status: params[:status])
  @current_filter = params[:status]

  # recent_lotsë¥¼ Hashë¡œ ë¯¸ë¦¬ ì¡°íšŒ (N+1 ë°©ì§€)
  @recent_lots = service.recent_lots_hash(@equipments)
end

# app/services/equipment_status_service.rb
def recent_lots_hash(equipments)
  # ëª¨ë“  ì„¤ë¹„ì˜ ìµœê·¼ LOTì„ 1íšŒ ì¿¼ë¦¬ë¡œ ì¡°íšŒ
  ProductionResult
    .where(equipment: equipments)
    .distinct_on(:equipment_id)
    .order(:equipment_id, created_at: :desc)
    .pluck(:equipment_id, :lot_no)
    .to_h
end
```

```erb
<!-- equipment_status/index.html.erb -->
<% @equipments.each do |equipment| %>
  <%= @recent_lots[equipment.id] || "-" %>
<% end %>
```

#### 3. Minor ì°¨ì´ ìˆ˜ì • (30ë¶„)

**êµ¬ë¶„ì ìƒ‰ìƒ í†µì¼**
```erb
<!-- fullscreen.html.erb L19 -->
<span class="text-slate-400">|</span>  <!-- ê¸°ì¡´ text-slate-600 -->
```

**ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ ì¶”ê°€ ê²€í† **
- í˜„ì¬: ì „ì²´í™”ë©´ ë²„íŠ¼ë§Œ ì¡´ì¬
- ì˜µì…˜ 1: "[ìƒˆë¡œê³ ì¹¨]" ë²„íŠ¼ ì¶”ê°€ (ì„¤ê³„ ë¬¸ì„œ ë”°ë¦„)
- ì˜µì…˜ 2: auto-refreshê°€ 30ì´ˆë§ˆë‹¤ ë™ì‘í•˜ë¯€ë¡œ ë¶ˆí•„ìš” (í˜„ì¬ íŒë‹¨)
- **ê²°ì •**: ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ í›„ í•„ìš”ì‹œ ì¶”ê°€

### 9.3 ì¥ê¸° ê°œì„  (ë°±ë¡œê·¸)

| í•­ëª© | ì„¤ëª… | ìš°ì„ ìˆœìœ„ | ì˜ˆìƒ ì†Œìš” |
|------|------|:--------:|-----------|
| ì„¤ê³„ ë¬¸ì„œ ì—…ë°ì´íŠ¸ | êµ¬í˜„ëœ ì¶”ê°€ ê¸°ëŠ¥ (PWA, turbo_confirm ë“±) ë°˜ì˜ | Medium | 2ì‹œê°„ |
| WebSocket ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ | Phase 6 ì´í›„, Action Cable í™œìš© | Low | 3ì¼ |
| ì„¤ë¹„ IoT ì„¼ì„œ ì—°ë™ | Phase 7, ì‹¤ì œ ì„¼ì„œ ë°ì´í„° | Low | 5ì¼ |
| OEE ìë™ ê³„ì‚° | ì„¤ë¹„ íš¨ìœ¨ì„± ì§€í‘œ | Low | 2ì¼ |

---

## 10. ë‹¤ìŒ ë‹¨ê³„

### 10.1 ì¦‰ì‹œ (ë‹¤ìŒ íšŒì˜ ì „)

- [ ] í…ŒìŠ¤íŠ¸ 8ê±´ ì‘ì„± ì‹œì‘
- [ ] recent_lot N+1 ìµœì í™”
- [ ] Minor ì°¨ì´ 2ê±´ ìˆ˜ì •

### 10.2 ë‹¤ìŒ PDCA ì‚¬ì´í´ (2026-02-19)

| í•­ëª© | ìš°ì„ ìˆœìœ„ | ì˜ˆìƒ ì‹œì‘ |
|------|:--------:|---------|
| ìƒì‚° ì¶”ì (production-tracking) ê¸°ëŠ¥ ê³ ë„í™” | High | 2026-02-19 |
| ëŒ€ì‹œë³´ë“œ(dashboard) ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ | Medium | 2026-02-26 |
| ë³´ê³ ì„œ(reporting) ìƒì„± ê¸°ëŠ¥ | Medium | 2026-03-05 |

### 10.3 ë°°í¬ ë° ìš´ì˜

- [ ] Staging í™˜ê²½ ë°°í¬
- [ ] ì‚¬ìš©ì ìˆ˜ìš© í…ŒìŠ¤íŠ¸ (UAT)
- [ ] Production ë°°í¬
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ì„¤ì •

---

## 11. ì½”ë“œ ìŠ¤ë‹ˆí«

### 11.1 ì£¼ìš” êµ¬í˜„ ì½”ë“œ

#### ë¼ìš°íŠ¸ (config/routes.rb)
```ruby
namespace :monitoring do
  get "production_board", to: "production_board#index"
  resources :equipment_status, only: [ :index ] do
    member do
      patch :change_status
    end
  end
end
```

#### ì»¨íŠ¸ë¡¤ëŸ¬ (ProductionBoardController)
```ruby
class Monitoring::ProductionBoardController < ApplicationController
  layout "fullscreen"

  def index
    service = DashboardQueryService.new(date: Date.current)
    @kpi = service.kpi_data
    @processes = service.process_data
    @recent_results = service.recent_results(limit: 10)
  end
end
```

#### ì„œë¹„ìŠ¤ (EquipmentStatusService)
```ruby
class EquipmentStatusService
  def summary
    active = Equipment.active
    {
      run: active.where(status: :run).count,
      idle: active.where(status: :idle).count,
      down: active.where(status: :down).count,
      pm: active.where(status: :pm).count,
      total: active.count
    }
  end

  def filtered_list(status: nil)
    scope = Equipment.active.includes(:manufacturing_process)
    scope = scope.where(status: status) if status.present?
    scope.order(:equipment_name)
  end
end
```

#### Stimulus ì»¨íŠ¸ë¡¤ëŸ¬ (auto_refresh_controller.js)
```javascript
import { Controller } from "@hotwired/stimulus"

export default class extends Controller {
  static values = { interval: { type: Number, default: 30000 } }
  static targets = ["countdown"]

  connect() {
    this.remaining = this.intervalValue / 1000
    this.updateCountdown()
    this.timerId = setInterval(() => this.tick(), 1000)
    this.refreshId = setInterval(() => this.refresh(), this.intervalValue)
  }

  disconnect() {
    clearInterval(this.timerId)
    clearInterval(this.refreshId)
  }

  refresh() {
    Turbo.visit(window.location.href, { action: "replace" })
  }

  tick() {
    this.remaining--
    if (this.remaining < 0) this.remaining = this.intervalValue / 1000
    this.updateCountdown()
  }

  updateCountdown() {
    if (this.hasCountdownTarget) {
      this.countdownTarget.textContent = this.remaining
    }
  }
}
```

---

## 12. ë³€ê²½ ë¡œê·¸

### v0.1.0 (2026-02-12)

**Added**:
- ìƒì‚°í˜„í™©íŒ (Andon Board) ì „ì²´í™”ë©´ ë·°
- ì„¤ë¹„ìƒíƒœ ëŒ€ì‹œë³´ë“œ (Equipment Status Dashboard)
- Stimulus ìë™ ìƒˆë¡œê³ ì¹¨ ì»¨íŠ¸ë¡¤ëŸ¬ (30ì´ˆ ê°„ê²©)
- ì‹¤ì‹œê°„ ì‹œê³„ Stimulus ì»¨íŠ¸ë¡¤ëŸ¬
- EquipmentStatusService (ì„¤ë¹„ ìƒíƒœ ì§‘ê³„/í•„í„°)
- ì „ì²´í™”ë©´ ì „ìš© ë ˆì´ì•„ì›ƒ (fullscreen.html.erb)
- ì„¤ë¹„ ìƒíƒœ ë³€ê²½ ê¸°ëŠ¥ (PATCH ì•¡ì…˜)
- ì‚¬ì´ë“œë°” ëª¨ë‹ˆí„°ë§ ë©”ë‰´ ë§í¬ ì—°ê²°

**Enhanced**:
- ìƒì‚°í˜„í™©íŒì— ìƒíƒœ ë°°ì§€ ì¶”ê°€ (ë‹¬ì„±ë¥ , ë¶ˆëŸ‰ë¥ )
- ì„¤ë¹„ìƒíƒœì— í•„í„° ê±´ìˆ˜ í‘œì‹œ
- ì„¤ë¹„ ìƒíƒœ ë³€ê²½ ì‹œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ (turbo_confirm)
- ë¹ˆ ë°ì´í„° ìƒíƒœ ë©”ì‹œì§€ ì¶”ê°€
- PWA ë©”íƒ€ íƒœê·¸ ì¶”ê°€

**Fixed**:
- footer ê²¹ì¹¨ ë°©ì§€ (pb-16 íŒ¨ë”©)
- ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ (disconnect() clearInterval)

---

## ë²„ì „ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ì‚¬í•­ | ì‘ì„±ì |
|------|------|----------|--------|
| 0.1.0 | 2026-02-12 | ì™„ë£Œ ë³´ê³ ì„œ ì‘ì„± | GnT Dev Team |

---

## ë¶€ë¡: PDCA ì‚¬ì´í´ ë©”íŠ¸ë¦­

### A.1 íš¨ìœ¨ì„± ì§€í‘œ

| ì§€í‘œ | ê°’ | í‰ê°€ |
|------|:----:|:----:|
| ê³„íš ëŒ€ë¹„ ì‹¤í–‰ìœ¨ | 100% | ìš°ìˆ˜ |
| ì„¤ê³„ ëŒ€ë¹„ êµ¬í˜„ ì¼ì¹˜ìœ¨ | 99% | ìš°ìˆ˜ |
| ì¼ì • ì¤€ìˆ˜ìœ¨ | 100% (1ì¼) | ìš°ìˆ˜ |
| ì½”ë“œ í’ˆì§ˆ ì ìˆ˜ | 92/100 | ìš°ìˆ˜ |

### A.2 ì‚°ì¶œë¬¼ í¬ê¸°

| í•­ëª© | ë¼ì¸ ìˆ˜ | íŒŒì¼ ìˆ˜ |
|------|:------:|:------:|
| ì»¨íŠ¸ë¡¤ëŸ¬ | 26 | 2 |
| ì„œë¹„ìŠ¤ | 26 | 1 |
| ë·° | 457 | 3 |
| JavaScript | 54 | 2 |
| ë¼ìš°íŠ¸ | 8 | 1 |
| **ì´í•©** | **571** | **9** |

### A.3 ë¦¬ë·° í¬ì¸íŠ¸

- **Code Review**: âœ… Clean Code ì›ì¹™ ì¤€ìˆ˜, ë©”ì„œë“œ ê¸¸ì´ < 10ì¤„
- **Security Review**: âœ… ì¸ì¦/CSRF/SQL Injection ëŒ€ì‘
- **Performance Review**: âœ… N+1 ì¿¼ë¦¬ ë°©ì§€ (eager loading), ì˜ˆìƒ ì‘ë‹µ ì‹œê°„ < 200ms

---

**ì´ ë³´ê³ ì„œëŠ” ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥ì˜ PDCA 1ì°¨ ì‚¬ì´í´ì„ ì™„ë£Œí•˜ë©°, ë‹¤ìŒ ì‚¬ì´í´ë¶€í„° í…ŒìŠ¤íŠ¸ ê¸°ë°˜ì˜ ê°œë°œì„ ì ìš©í•  ì˜ˆì •ì…ë‹ˆë‹¤.**

